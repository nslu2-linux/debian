Index: ixp400-eth-1.5/ixp400_eth.c
===================================================================
--- ixp400-eth-1.5.orig/ixp400_eth.c	2006-06-22 16:54:26.000000000 +0200
+++ ixp400-eth-1.5/ixp400_eth.c	2006-06-22 16:56:50.000000000 +0200
@@ -112,24 +112,25 @@
 #define MOD_VERSION "1.5"
 
 /* Module parameters */
-static int npe_learning = 1;      /* default : NPE learning & filtering enable */
-static int log_level = 0;         /* default : no log */
-static int no_ixp400_sw_init = 0; /* default : init core components of the IXP400 Software */
-static int no_phy_scan = 0;       /* default : do phy discovery */
-static int phy_reset = 0;         /* default : mo phy reset */
+/* gcc 4.1.1+kernel2.6.16 do not like it if these are static! */
+int npe_learning = 1;      /* default : NPE learning & filtering enable */
+int log_level = 0;         /* default : no log */
+int no_ixp400_sw_init = 0; /* default : init core components of the IXP400 Software */
+int no_phy_scan = 0;       /* default : do phy discovery */
+int phy_reset = 0;         /* default : mo phy reset */
 
 /* maximum number of ports supported by this driver ixp0, ixp1 ....
  * The default is to configure all ports defined in EthAcc component
 */
 #ifdef CONFIG_IXP400_ETH_NPEC_ONLY
-static int dev_max_count = 1; /* only NPEC is used */
+int dev_max_count = 1; /* only NPEC is used */
 #elif defined (CONFIG_IXP400_ETH_NPEB_ONLY)
-static int dev_max_count = 1; /* only NPEB is used */
+int dev_max_count = 1; /* only NPEB is used */
 #elif defined (CONFIG_ARCH_IXDP425) || defined(CONFIG_ARCH_IXDPG425)\
       || defined (CONFIG_ARCH_ADI_COYOTE)
-static int dev_max_count = 2; /* only NPEB and NPEC */
+int dev_max_count = 2; /* only NPEB and NPEC */
 #elif defined (CONFIG_ARCH_IXDP465) || defined(CONFIG_MACH_IXDP465)
-static int dev_max_count = 3; /* all NPEs are used */
+int dev_max_count = 3; /* all NPEs are used */
 #endif
 
 #ifndef CONFIG_IXP400_NAPI
@@ -138,9 +139,9 @@
  * skbuf to push into the linux stack, and avoid the performance degradations 
  * during overflow.
  */
-static int ixp400_netdev_max_backlog = 290;
+int ixp400_netdev_max_backlog = 290;
 
-static int datapath_poll = 1;     /* default : rx/tx polling, not interrupt driven*/
+int datapath_poll = 1;     /* default : rx/tx polling, not interrupt driven*/
 
 MODULE_PARM(ixp400_netdev_max_backlog, "i");
 MODULE_PARM_DESC(ixp400_netdev_max_backlog, "Should be set to the value of /proc/sys/net/core/netdev_max_backlog (perf affecting)");
